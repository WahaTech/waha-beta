"use strict";

var ESLintPlugin = require("eslint-webpack-plugin");

exports.onCreateWebpackConfig = function (_ref, pluginOptions) {
  var stage = _ref.stage,
      actions = _ref.actions;

  var options = pluginOptions.options || {};
  if (!options.extensions) options.extensions = ["js", "jsx", "ts", "tsx"];
  if (!options.exclude) options.exclude = ["node_modules", ".cache", "public"];

  var stages = pluginOptions.stages || ["develop"];

  if (stages.includes(stage)) {
    actions.setWebpackConfig({
      plugins: [new ESLintPlugin(Object.assign(options))]
    });
  }
};